# read_edge

基於 `edge_tts` 和 `pygame` 的語音轉文字應用程式。此程式支援文字文件的分段處理與音量、語速、語音設置，並將文字段落轉換為音頻進行播放。

## 功能

- 列出所有支援的語音
- 自定義語音、語速和音量
- 將文字文件分段轉換為音頻並播放
- 移除 Markdown 不必要的標記（如 `#`, `##`, `*`, `**`）
- 支援繁體中文語音（默認語音為 `zh-TW-HsiaoChenNeural`）

## 安裝

此程式需要以下 Python 套件：

- `edge_tts` - 用於將文字轉換為語音
- `pygame` - 用於播放生成的音頻
- `asyncio` - 用於非同步處理

可以通過 pip 安裝所需的依賴項：

```bash
pip install edge-tts pygame
```

## 使用方法

1. 將程式碼保存為 Python 文件（例如 `read_edge.py`）。
2. 確保目標文字文件（例如 `test.txt`）與程式位於相同的目錄中。
3. 執行程式：

   ```bash
   python read_edge.py
   ```

4. 按照提示設置語音、語速和音量，或直接按 `Enter` 使用默認設置。
5. 程式會將 `test.txt` 的內容分段轉換為語音並依次播放。

## 語音設置

- **語音項目**：選擇所需的語音項目。可選範圍依據系統中的可用語音，按 `Enter` 使用預設值。
- **語速**：可設置範圍為 -50 至 50（`0` 為正常）。
- **音量**：可設置範圍為 -50 至 50（`0` 為正常）。

## 文件說明

- `OfflineTextToSpeech` 類別提供 TTS 主要功能，包括語音設置、文字分段、語音合成和音頻播放。
- `split_text` 方法會將文本分段並移除 `#`, `##`, `*`, `**` 等標記。
- `read_file` 方法讀取指定文件並分段生成語音後進行播放。
- 使用者可在執行時選擇語音參數並即時調整播放。

## 注意事項

- 此程式使用 `edge_tts` 庫進行語音轉換，因此需要安裝相關依賴並確保音效裝置正常運行。
- 播放時會生成臨時音頻文件，程式結束時會自動清理。
- 若 `test.txt` 文件不存在，程式將顯示錯誤。

## 範例輸出

```plaintext
中文可用的語音：
55: zh-CN-XiaoxiaoNeural - 大陸中文女聲
62: zh-TW-HsiaoChenNeural - 台灣中文女聲
...

請輸入語音項目 (預設 55)：
請輸入語速 (0 正常 100 快速 -100 慢速)：0
請輸入音量 (0 正常 100 最大 -100 最小)：0
...
```

## License

MIT 此程式碼的使用與修改皆自由開放。